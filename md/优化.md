# 优化

## webpack 具体如何打包优化
### 打包速度优化
- cache-loader
- webpack.dllPlugin
- TerserWebpackPlugin 开启多线程打包


### 打包资源优化的总体原则
1. 减小打包的整体体积
2. Code Splitting: 按需加载，优化页面首次加载体积。如根据路由按需加载，根据是否可见按需加载
3. Bundle Splitting：分包，根据模块更改频率分层次打包，充分利用缓存

### 按需加载
- 使用 import() 动态加载模块
- 使用 React.lazy() 动态加载组件
- 使用 lodable-component 动态加载路由，组件或者模块

### Bundle Splitting
- webpack-runtime: 应用中的 webpack 的版本比较稳定，分离出来，保证长久的永久缓存
- react-runtime: react 的版本更新频次也较低
- vundor: 常用的第三方模块打包在一起，如 lodash，classnames 基本上每个页面都会引用到，但是它们的更新频率会更高一些

### 实际操作
- 把组件库 单独打包
- 框架运行时的基础依赖，不会经常更新的 单独打一个包
- 入口文件比较大的话可以考虑把（webpack-runtime）抽离出一个bundle
- 比较常用的第三方库 单独打一个包
- 例如 可以把 element-ui 打包成 单独的css和js 然后做缓存

## 项目中遇到过哪些问题
- 项目打包不成狗， 通过 github issue 查找到问题是 内存溢出  build时 指定 max-old-space-size
## 项目中如何分离组件
## SSR
